name: DarwinNativeBindings
description: Bindings for native iOS/macOS libraries
language: objc
output: 
  bindings: 'lib/ffi/darwin/gen/darwin_native_bindings.g.dart'
  objc-bindings: 'darwin/darwin_native_bindings.dart.m'

exclude-all-by-default: true

ffi-native:
  asset-id: 'darwin_native_bindings'

headers:
  entry-points:
    - '$MACOS_SDK/System/Library/Frameworks/AVFoundation.framework/Headers/AVAsset.h'
    - '$MACOS_SDK/System/Library/Frameworks/AVFoundation.framework/Headers/AVPlayer.h'
    - '$MACOS_SDK/System/Library/Frameworks/AVFoundation.framework/Headers/AVAudioPlayer.h'
    - '$MACOS_SDK/System/Library/Frameworks/AVFoundation.framework/Headers/AVQueuePlayer.h'
    - '$MACOS_SDK/System/Library/Frameworks/AVFoundation.framework/Headers/AVPlayerItem.h'
    - '$MACOS_SDK/System/Library/Frameworks/AVFoundation.framework/Headers/AVAudioSession.h'
    - '$MACOS_SDK/System/Library/Frameworks/MediaPlayer.framework/Headers/MPRemoteCommandCenter.h'
    - '$MACOS_SDK/System/Library/Frameworks/MediaPlayer.framework/Headers/MPRemoteCommand.h'
    - '$MACOS_SDK/System/Library/Frameworks/MediaPlayer.framework/Headers/MPNowPlayingInfoCenter.h'
    - '$MACOS_SDK/System/Library/Frameworks/MediaPlayer.framework/Headers/MPMediaItem.h'
    - '$MACOS_SDK/System/Library/Frameworks/MediaPlayer.framework/Headers/MPMediaItemProperty.h'
    - '$MACOS_SDK/System/Library/Frameworks/NSObject.framework/Headers/NSObject.h'
    - '$MACOS_SDK/System/Library/Frameworks/AppKit.framework/Headers/NSImage.h'
    - '$MACOS_SDK/System/Library/Frameworks/CoreMedia.framework/Headers/CMTime.h'
    - '$MACOS_SDK/System/Library/Frameworks/Foundation.framework/Headers/Foundation.h'
    - 'build/ffigen/*.h'

objc-interfaces:
  include:
    # any classes from musique_darwin-Swift.h should also have a module entry
    - 'MPRemoteCommandCenterListener'
    - 'NSObjectObserver'
    - 'DispatchQueueShim'

    # other classes
    - 'AVAsset'
    - 'AVPlayer'
    - 'AVAudioPlayer'
    - 'AVQueuePlayer'
    - 'AVPlayerItem'
    - 'AVAudioSession'
    - 'CMTime'
    - 'MPRemoteCommandCenter'
    - 'MPRemoteCommand'
    - 'MPNowPlayingInfoCenter'
    - 'MPMediaItemArtwork'
    - 'NSImage'
  
  module:
    'MPRemoteCommandCenterListener': 'musique'
    'NSObjectObserver': 'musique'
    'DispatchQueueShim': 'musique'

functions:
  include:
    - 'CMTimeMakeWithSeconds'
    - 'CMTimeGetSeconds'

enums:
  include:
    - 'MPRemoteCommandHandlerStatus'

globals:
  include:
    - 'AVAudioSessionCategoryPlayback'
    - 'MPMediaItemPropertyTitle'
    - 'MPMediaItemPropertyArtist'
    - 'MPMediaItemPropertyAlbumTitle'
    - 'MPMediaItemPropertyPlaybackDuration'
    - 'MPMediaItemPropertyArtwork'
    - 'MPNowPlayingInfoPropertyElapsedPlaybackTime'
    - 'MPNowPlayingInfoPropertyPlaybackRate'

preamble: |
  // Generated file, do not edit.
  // Generated by ffigen
  // ignore_for_file: camel_case_types, non_constant_identifier_names, unused_element, unused_field, void_checks, annotate_overrides, no_leading_underscores_for_local_identifiers, library_private_types_in_public_api
